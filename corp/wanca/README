
Scripts related to Wanca corpus (http://urn.fi/urn:nbn:fi:lb-2019052401).

# in urls: & -> &amp;
fix-bare-ampersands.pl
# remove soft hyphens
remove-soft-hyphens.pl
# wid word spaces -> ref word spaces
vrt-rename --map wid=ref
# ref word spaces -> word spaces ref
vrt-keep --names word,spaces,ref

# rename processed vrt files to match pattern
# wanca(_test)_LANGCODE(_multili).vrt

# compile the corpora
# PATH=$PATH:/proj/clarin/korp/cwb/bin:/proj/clarin/korp/scripts
./korp-make-wanca.sh



# Tokenization problem in wanca_2016_nio fixed (09-12-2019):

# drop third field as word numbering has to be added again after tokenization is fixed
cut -f1,2 wanca_2016_nio_korp_20190812/vrt/wanca_2016_nio/wanca_2016_nio.vrt

# fix cases (нинту ” -> нинту”):
#
# нинту   SpaceAfter=No
# ”       _
#
# or (ӈизи ” силинягәтыӈ -> ӈизи” силинягәтыӈ):
#
# ӈизи    SpaceAfter=No
# ”       SpaceAfter=No
# силинягәтыӈ     _
#
perl -pe 's/\n/¤/g;' | perl -pe 's/\tSpaceAfter=No¤(”\t)/\1/g;'

# fix cases (ӈизисибся” дя -> ӈизисибся”дя):
#
# ӈизисибся”      SpaceAfter=No
# дя      _
#
# or (ӈизи” силинягәтыӈ -> ӈизи”силинягәтыӈ):
#
# ӈизи”       SpaceAfter=No
# силинягәтыӈ     _
#
# but ignore punctuation
#
perl -pe 's/¤([^\t]+”)\tSpaceAfter=No¤([^.,;:)])/¤\1\2/g;' | perl -pe 's/¤/\n/g;'

# add word numbering
./add-numbering.pl
